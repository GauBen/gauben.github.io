---
layout: /parts/html.njk
styles:
  - ~/assets/styles/highlight.styl
---

{# We use the wrong function instead of reversing the whole collection twice #}
{% set previousPost = collections.post | samelocale | getNextCollectionItem(page) %}
{% set nextPost = collections.post | samelocale | getPreviousCollectionItem(page) %}
<main>
  <h1 class="section-title">{{ title }}</h1>
  <div class="markdown-body">
    <aside class="post-aside">
      <p class="description">{{ description }}</p>
      <p class="wordcount">{{ 'blog.post.wordcount' | t | p(words) }}</p>
      <p class="date">
        <time datetime="{{ page.date | dateToRfc3339 }}">{{ page.date | dateformat }}</time>
      </p>
      {# {{ page.inputPath }} #}
      <p>{{ 'blog.post.author' | t | f(author) }}</p>
      {% set tags = tags | cleantags %}
      {% if tags.length > 0 %}
        <ul class="tag-list">
          {%- for tag in tags -%}
            <li class="tag">
              <span class="span">{{ tag }}</span>
            </li>
          {%- endfor %}
        </ul>
      {% endif %}
    </aside>
    {{ content | safe }}
  </div>
</main>
<nav class="adjacent-posts">
  {% if previousPost %}
    <div class="previous">
      <span>
        <a href="{{ previousPost.url }}">{{ previousPost.data.title }}</a>
      </span>
    </div>
  {% endif %}
  {% if nextPost %}
    <div class="next">
      <span>
        <a href="{{ nextPost.url }}">{{ nextPost.data.title }}</a>
      </span>
    </div>
  {% endif %}
</nav>
<section class="comment-section">
  <h2 id="comments" class="section-title">{{ 'blog.comments' | t }}</h2>
  <script src="https://utteranc.es/client.js" repo="GauBen/gauben.github.io" issue-term="pathname" label="comment thread"
  theme="github-light" crossorigin="anonymous" async></script>
</section>
<script>
  import '~/assets/scripts/post.ts'
</script>
